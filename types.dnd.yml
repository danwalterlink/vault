# composable schema
%TAG ! tag:dnd.ddubl,type:
--- !trait

%TAG ! tag:dnd.ddubl,class:
--- !archetype
# warrior, expert, priest, mage, crucible
- !warrior
  feature:
    core: [fighting style, maneuver, focus]
  variant: [
    honed: [STR, DEX] [@typecast unrestricted],
    sly: [DEX],
    brute: @typecast]
  !@func.join: dendron://

- !expert
  feature:
    core: [expertise]
- !priest
  : caster
  hierarchy: []
- !mage
- !crucible

--- !type # trait defined
  type
    ? [martial, caster]
    : [martial weapon proficiency, spellcasting]
  trait:

- !feature
  name: name
  source: []
  type: [skill, boon, class, archetype, heroic, epic]
  type: [ability, feat, trait, maneuver, focus]

- !base
  name: {
    *artificer
    *barbarian
    *bard
    *blood hunter
    *cleric
    *druid
    *fighter
    *monk
    *paladin
    *ranger
    *rogue
    *sorcerer
    *warlock
    *wizard
  }

- !subclass: [
    archetype,
    base
  ]

--- !class
- !artificer
  type: base
  name: *class.name:[

  ]
  &archetype|supertype: { warrior, expert, priest, mage, crucible}
  progression:

--- !progression
- recursive
  type: map

  [initial_value]
- list
  - !LI
  entries:
    level: [default:20]

--- !trait #
- creature
  spellcasting {variant:[innate, learned, pact]}
  martial {variant:[honed, sly, brute]}

- !meta
--- !AS #ability score
- !physical
  STR: strength
  DEX: dexterity
  CON: constitution

- !mental
  INT: intelligence
  WIS: wisdom
  CHA: charisma

%TAG ! tag:dnd.ddubl,@func:
--- !typecast

%TAG ! tag:dnd.ddubl,